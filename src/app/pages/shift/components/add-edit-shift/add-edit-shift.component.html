<p-card class="p-2 m-0">
  @if (form) {
    <form method="post" class="row" [formGroup]="form">
      <div class="col-lg-4">
        <label class="mb-2 text-middle">{{ 'المستخدم' }}</label>
        <app-prime-autocomplete [field]="'name'" [selectedOption]="selectedUser" [suggestions]="filteredUsers" [formGroup]="form" (onSelect)="onUserSelect($event)" [lazy]="false" (handleMethod)="getUsers($event)"></app-prime-autocomplete>
      </div>
      <div class="col-lg-4">
        <label class="mb-2 text-middle">{{ 'الفرع' }}</label>
        <app-prime-autocomplete [field]="'nameAr'" [selectedOption]="selectedBranch" [suggestions]="filteredBranchs" [formGroup]="form" (onSelect)="onBranchSelect($event)" [lazy]="false" (handleMethod)="getBranchs($event)"></app-prime-autocomplete>
      </div>
      <div class="col-lg-4">
        <app-prime-datepicker [formGroup]="form" controlName="startTime" [mode]="'time'" [label]="'وقت بداية الشيفت '"> </app-prime-datepicker>
      </div>
      <div class="col-lg-4">
        <app-prime-datepicker [formGroup]="form" controlName="endTime" [mode]="'time'" [label]="'وقت انتهاء الشيفت'"> </app-prime-datepicker>
      </div>
      <div class="col-lg-4">
        <app-prime-input-text [formGroup]="form" contentType="number" controlName="startValue" [label]="'قيمة بداية الشيفت'"> </app-prime-input-text>
      </div>
      <div class="col-lg-4">
        <app-prime-input-text [formGroup]="form" contentType="number" controlName="endValue" [label]="'قيمة نهاية الشيفت'"> </app-prime-input-text>
      </div>
      <div class="p-formgrid grid">
        <div class="field col">
          <app-prime-input-text [formGroup]="form" controlName="notes" [label]="'ملاحظات'" inputType="textarea"> </app-prime-input-text>
        </div>
      </div>
    </form>
  }
</p-card>
@if (form) {
  <div class="my-4">
    <app-submit-buttons [isSubmitDisabled]="form.invalid" [submitButtonText]="pageType === 'add' ? 'ACTIONS.SUBMIT' : 'ACTIONS.SAVE'" (submit)="submit()" (cancel)="closeDialog()"> </app-submit-buttons>
  </div>
}
